# react-deploy

---

# 구현 목록

- [ ] 팀 내에 배포 될 API가 여러개 일 경우 상단 네비게이션 바에서 선택 가능하게 한다.
	- 프론트엔드의 경우 배포와 사용자가 팀 내 여러 서버 중 하나를 선택하여 서비스를 이용
	- 팀내 백엔드 엔지니어의 이름을 넣고, 이름을 선택하면 해당 엔지니어의 API로 API통신을 하게 한다.
	- 기본 선택은 제일 첫번째 이름으로 한다.

---

# 질문

## 질문 1. SPA 페이지를 정적 배포를 하려고 할 때 Vercel을 사용하지 않고 한다면 어떻게 할 수 있을까요?

### GitHub Pages
- Github의 저장소 기능을 사용하여 정적 페이지를 호스팅할 수 있는 서비스
- 공식 문서번역 https://github.com/sujinleeme/spa-github-pages-ko
- Github Page로 배포할 때 `/` 이외의 경로로 접근하면 404 반환함
	- `404.html`이 브라우저에서 실행될 때 `/`로 리다이렉션을 시키고 동시에 현재 접근한 경로의 URI를 쿼리스트링으로 전달
1. 깃에 코드 올리기
2. `gh-pages` install
3. package.json 파일의 script에 내용 추가
	- `"predeploy" : "npm run build",`
	- `"deploy" : "gh-pages -d build"`
4. 프로젝트 배포
	- `npm run deploy`

### AWS S3
1. S3에 빌드된 정적 파일을 올리기
	- S3 : AWS에 파일을 업로드 할 수 있는 서비스
2. CloudFront가 S3의 경로를 가리키게 하기
	- CloudFront : CDN의 역할 뿐만 아니라 Caching을 이용한 응답 속도 향상, HTTPS 적용을 가능하게 해 주는 서비스
3. 도메인을 붙이려면 ACM 설정하기
	- Alternative Domain Names 로 커스텀 도메인을 설정하려면 ACM으로 인증된 커스텀 SSL 인증서가 있어야 함
4. CloudFront에다가 Route 53을 활용해 도메인 붙이기
	- Route 53 : AWS에서 제공하는 도메인 이름 서비스
	- 외부 서비스를 이용해 도메인을 구입한 후에는 AWS에서 사용할 수 있게 별도의 설정을 해야한다.


## 질문 2. CSRF나 XSS 공격을 막는 방법은 무엇일까요?

### CSRF 공격
- 웹 애플리케이션 취약점 중 하나로 사용자가 자신의 의지와 무관하게 공격자가 의도한 행동을 해서 특정 웹 페이지를 보안에 취약하게 한다거나 수정, 삭제 등의 작업을 하게 만드는 공격 방법
	- 예를 들어서 우리가 개발하고 있는 카카오 선물하기의 product가 일련번호 인 점을 이용해 일반적인 방법으로 접근할 수 없는 페이지를 오픈한다던지, 개발에 사용되고 실제로 사용하지 않는 샘플 페이지를 찾아낸다던지 등의 행위가 가능하다.

### 예방 방법
1. Referer 체크
	- HTTP 요청 헤더 정보에서 Referrer 정보 확인 가능 -> 보통이라면 host와 Referrer 값이 일치하므로 둘을 비교
2. CAPCHA 도입 (ex. 자동차를 찾으세요)
	- CAPTHCA 인증코드가 없거나 틀리면 요청 거부
3. CSRF 토큰 사용
	- 사용자 세션에 임의의 값을 저장하여 모든 요청마다 해당 값을 포함하여 전송하도록 한다.
	- 서버에서 요청을 받을때마다, 세션에 저장된 값과 요청으로 전송된 값이 일치하여 검증하여 방어하는 방법


## 질문 3. 브라우저 렌더링 원리에대해 설명해주세요.