{"ast":null,"code":"var _jsxFileName = \"/Users/jiwon/Desktop/KaKaoTech/Step2/6\\u110C\\u116E\\u110E\\u1161 \\u1100\\u116A\\u110C\\u1166/react-deploy/src/components/features/Category/CategoryProductsSection/index.tsx\",\n  _s = $RefreshSig$();\nimport styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\nimport { useGetProducts } from '@/api/hooks/useGetProducts';\nimport { DefaultGoodsItems } from '@/components/common/GoodsItem/Default';\nimport { Container } from '@/components/common/layouts/Container';\nimport { Grid } from '@/components/common/layouts/Grid';\nimport { LoadingView } from '@/components/common/View/LoadingView';\nimport { VisibilityLoader } from '@/components/common/VisibilityLoader';\nimport { getDynamicPath } from '@/routes/path';\nimport { breakpoints } from '@/styles/variants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const CategoryProductsSection = ({\n  categoryId\n}) => {\n  _s();\n  const {\n    data,\n    isError,\n    isLoading,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage\n  } = useGetProducts({\n    categoryId\n  });\n  if (isLoading) return /*#__PURE__*/_jsxDEV(LoadingView, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 25\n  }, this);\n  if (isError) return /*#__PURE__*/_jsxDEV(TextView, {\n    children: \"\\uC5D0\\uB7EC\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 23\n  }, this);\n  if (!data) return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  if (data.pages[0].products.length <= 0) return /*#__PURE__*/_jsxDEV(TextView, {\n    children: \"\\uC0C1\\uD488\\uC774 \\uC5C6\\uC5B4\\uC694.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 50\n  }, this);\n  const flattenGoodsList = data.pages.map(page => {\n    var _page$products;\n    return (_page$products = page === null || page === void 0 ? void 0 : page.products) !== null && _page$products !== void 0 ? _page$products : [];\n  }).flat();\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        columns: {\n          initial: 2,\n          md: 4\n        },\n        gap: 16,\n        children: flattenGoodsList.map(({\n          id,\n          imageUrl,\n          name,\n          price\n        }) => /*#__PURE__*/_jsxDEV(Link, {\n          to: getDynamicPath.productsDetail(id),\n          children: /*#__PURE__*/_jsxDEV(DefaultGoodsItems, {\n            imageSrc: imageUrl,\n            title: name,\n            amount: price,\n            subtitle: ''\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this)\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), hasNextPage && /*#__PURE__*/_jsxDEV(VisibilityLoader, {\n        callback: () => {\n          if (!isFetchingNextPage) {\n            fetchNextPage();\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(CategoryProductsSection, \"24trVLDzuNfwT+l7LvI8zGpwxKU=\", false, function () {\n  return [useGetProducts];\n});\n_c = CategoryProductsSection;\nconst Wrapper = styled.section`\n  width: 100%;\n  padding: 28px 16px 180px;\n\n  @media screen and (min-width: ${breakpoints.sm}) {\n    padding: 40px 16px 360px;\n  }\n`;\n_c2 = Wrapper;\nconst TextView = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 40px 16px 60px;\n  font-size: 16px;\n`;\n_c3 = TextView;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CategoryProductsSection\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"TextView\");","map":{"version":3,"names":["styled","Link","useGetProducts","DefaultGoodsItems","Container","Grid","LoadingView","VisibilityLoader","getDynamicPath","breakpoints","jsxDEV","_jsxDEV","Fragment","_Fragment","CategoryProductsSection","categoryId","_s","data","isError","isLoading","hasNextPage","fetchNextPage","isFetchingNextPage","fileName","_jsxFileName","lineNumber","columnNumber","TextView","children","pages","products","length","flattenGoodsList","map","page","_page$products","flat","Wrapper","columns","initial","md","gap","id","imageUrl","name","price","to","productsDetail","imageSrc","title","amount","subtitle","callback","_c","section","sm","_c2","div","_c3","$RefreshReg$"],"sources":["/Users/jiwon/Desktop/KaKaoTech/Step2/6주차 과제/react-deploy/src/components/features/Category/CategoryProductsSection/index.tsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nimport { useGetProducts } from '@/api/hooks/useGetProducts';\nimport { DefaultGoodsItems } from '@/components/common/GoodsItem/Default';\nimport { Container } from '@/components/common/layouts/Container';\nimport { Grid } from '@/components/common/layouts/Grid';\nimport { LoadingView } from '@/components/common/View/LoadingView';\nimport { VisibilityLoader } from '@/components/common/VisibilityLoader';\nimport { getDynamicPath } from '@/routes/path';\nimport { breakpoints } from '@/styles/variants';\n\ntype Props = {\n  categoryId: string;\n};\n\nexport const CategoryProductsSection = ({ categoryId }: Props) => {\n  const { data, isError, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =\n    useGetProducts({\n      categoryId,\n    });\n\n  if (isLoading) return <LoadingView />;\n  if (isError) return <TextView>에러가 발생했습니다.</TextView>;\n  if (!data) return <></>;\n  if (data.pages[0].products.length <= 0) return <TextView>상품이 없어요.</TextView>;\n\n  const flattenGoodsList = data.pages.map((page) => page?.products ?? []).flat();\n\n  return (\n    <Wrapper>\n      <Container>\n        <Grid\n          columns={{\n            initial: 2,\n            md: 4,\n          }}\n          gap={16}\n        >\n          {flattenGoodsList.map(({ id, imageUrl, name, price }) => (\n            <Link key={id} to={getDynamicPath.productsDetail(id)}>\n              <DefaultGoodsItems\n                key={id}\n                imageSrc={imageUrl}\n                title={name}\n                amount={price}\n                subtitle={''}\n              />\n            </Link>\n          ))}\n        </Grid>\n        {hasNextPage && (\n          <VisibilityLoader\n            callback={() => {\n              if (!isFetchingNextPage) {\n                fetchNextPage();\n              }\n            }}\n          />\n        )}\n      </Container>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.section`\n  width: 100%;\n  padding: 28px 16px 180px;\n\n  @media screen and (min-width: ${breakpoints.sm}) {\n    padding: 40px 16px 360px;\n  }\n`;\n\nconst TextView = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 40px 16px 60px;\n  font-size: 16px;\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}