{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jihwan\\\\projects\\\\react-deploy\\\\src\\\\components\\\\features\\\\Category\\\\CategoryProductsSection\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\nimport { useGetProducts } from '@/api/hooks/useGetProducts';\nimport { DefaultGoodsItems } from '@/components/common/GoodsItem/Default';\nimport { Container } from '@/components/common/layouts/Container';\nimport { Grid } from '@/components/common/layouts/Grid';\nimport { LoadingView } from '@/components/common/View/LoadingView';\nimport { VisibilityLoader } from '@/components/common/VisibilityLoader';\nimport { useBackend } from '@/provider/Auth/Backend'; // useBackend 훅 추가\nimport { getDynamicPath } from '@/routes/path';\nimport { breakpoints } from '@/styles/variants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const CategoryProductsSection = ({\n  categoryId\n}) => {\n  _s();\n  const {\n    backendUrl\n  } = useBackend(); // backendUrl 가져오기\n\n  const {\n    data,\n    isError,\n    isLoading,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage\n  } = useGetProducts({\n    categoryId\n  }, backendUrl); // backendUrl 전달\n\n  if (isLoading) return /*#__PURE__*/_jsxDEV(LoadingView, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 25\n  }, this);\n  if (isError) return /*#__PURE__*/_jsxDEV(TextView, {\n    children: \"\\uC5D0\\uB7EC\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 23\n  }, this);\n  if (!data) return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  if (data.pages[0].products.length <= 0) return /*#__PURE__*/_jsxDEV(TextView, {\n    children: \"\\uC0C1\\uD488\\uC774 \\uC5C6\\uC5B4\\uC694.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 50\n  }, this);\n  const flattenGoodsList = data.pages.map(page => {\n    var _page$products;\n    return (_page$products = page.products) !== null && _page$products !== void 0 ? _page$products : [];\n  }).flat();\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        columns: {\n          initial: 2,\n          md: 4\n        },\n        gap: 16,\n        children: flattenGoodsList.map(({\n          id,\n          imageUrl,\n          name,\n          price\n        }) => /*#__PURE__*/_jsxDEV(Link, {\n          to: getDynamicPath.productsDetail(id),\n          children: /*#__PURE__*/_jsxDEV(DefaultGoodsItems, {\n            imageSrc: imageUrl,\n            title: name,\n            amount: price,\n            subtitle: ''\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), hasNextPage && /*#__PURE__*/_jsxDEV(VisibilityLoader, {\n        callback: () => {\n          if (!isFetchingNextPage) {\n            fetchNextPage();\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(CategoryProductsSection, \"9wN+bvrznfwgxyc+EFo/pe5nl0g=\", false, function () {\n  return [useBackend, useGetProducts];\n});\n_c = CategoryProductsSection;\nconst Wrapper = styled.section`\n  width: 100%;\n  padding: 28px 16px 180px;\n\n  @media screen and (min-width: ${breakpoints.sm}) {\n    padding: 40px 16px 360px;\n  }\n`;\n_c2 = Wrapper;\nconst TextView = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 40px 16px 60px;\n  font-size: 16px;\n`;\n_c3 = TextView;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CategoryProductsSection\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"TextView\");","map":{"version":3,"names":["styled","Link","useGetProducts","DefaultGoodsItems","Container","Grid","LoadingView","VisibilityLoader","useBackend","getDynamicPath","breakpoints","jsxDEV","_jsxDEV","Fragment","_Fragment","CategoryProductsSection","categoryId","_s","backendUrl","data","isError","isLoading","hasNextPage","fetchNextPage","isFetchingNextPage","fileName","_jsxFileName","lineNumber","columnNumber","TextView","children","pages","products","length","flattenGoodsList","map","page","_page$products","flat","Wrapper","columns","initial","md","gap","id","imageUrl","name","price","to","productsDetail","imageSrc","title","amount","subtitle","callback","_c","section","sm","_c2","div","_c3","$RefreshReg$"],"sources":["C:/Users/jihwan/projects/react-deploy/src/components/features/Category/CategoryProductsSection/index.tsx"],"sourcesContent":["import styled from '@emotion/styled';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { useGetProducts } from '@/api/hooks/useGetProducts';\r\nimport { DefaultGoodsItems } from '@/components/common/GoodsItem/Default';\r\nimport { Container } from '@/components/common/layouts/Container';\r\nimport { Grid } from '@/components/common/layouts/Grid';\r\nimport { LoadingView } from '@/components/common/View/LoadingView';\r\nimport { VisibilityLoader } from '@/components/common/VisibilityLoader';\r\nimport { useBackend } from '@/provider/Auth/Backend'; // useBackend 훅 추가\r\nimport { getDynamicPath } from '@/routes/path';\r\nimport { breakpoints } from '@/styles/variants';\r\nimport type { ProductData } from '@/types';\r\n\r\ntype Props = {\r\n  categoryId: string;\r\n};\r\n\r\nexport const CategoryProductsSection = ({ categoryId }: Props) => {\r\n  const { backendUrl } = useBackend(); // backendUrl 가져오기\r\n\r\n  const { data, isError, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =\r\n    useGetProducts({ categoryId }, backendUrl); // backendUrl 전달\r\n\r\n  if (isLoading) return <LoadingView />;\r\n  if (isError) return <TextView>에러가 발생했습니다.</TextView>;\r\n  if (!data) return <></>;\r\n  if (data.pages[0].products.length <= 0) return <TextView>상품이 없어요.</TextView>;\r\n\r\n  const flattenGoodsList = data.pages\r\n    .map((page: { products: ProductData[] }) => page.products ?? [])\r\n    .flat();\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Container>\r\n        <Grid\r\n          columns={{\r\n            initial: 2,\r\n            md: 4,\r\n          }}\r\n          gap={16}\r\n        >\r\n          {flattenGoodsList.map(({ id, imageUrl, name, price }) => (\r\n            <Link key={id} to={getDynamicPath.productsDetail(id)}>\r\n              <DefaultGoodsItems\r\n                key={id}\r\n                imageSrc={imageUrl}\r\n                title={name}\r\n                amount={price}\r\n                subtitle={''}\r\n              />\r\n            </Link>\r\n          ))}\r\n        </Grid>\r\n        {hasNextPage && (\r\n          <VisibilityLoader\r\n            callback={() => {\r\n              if (!isFetchingNextPage) {\r\n                fetchNextPage();\r\n              }\r\n            }}\r\n          />\r\n        )}\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.section`\r\n  width: 100%;\r\n  padding: 28px 16px 180px;\r\n\r\n  @media screen and (min-width: ${breakpoints.sm}) {\r\n    padding: 40px 16px 360px;\r\n  }\r\n`;\r\n\r\nconst TextView = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 40px 16px 60px;\r\n  font-size: 16px;\r\n`;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}